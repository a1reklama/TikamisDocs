v# Главное по приложению

--

### Уведомления

Пока не особо понятно получение списка уведомлений (не дошел до этого, может там вообще другая структура). Предположительно так:

GET /api/notifications - получить уведомления

```json
    "notifications": [
        {
            "id": "1",
            "date": "12.09.2022",
            "text": "Сегодня вы записаны на сервисное обслуживание в [время записи] в сервисный центр Тикамис по адресу [адрес СЦ]",
        },
        {
            "id": 2,
            "date": "11.09.2022",
            "text": "Завтра вы записаны на сервисное обслуживание в [время записи] в сервисный центр Тикамис по адресу [адрес СЦ]",
        },
    ]
```

| Свойство             | Тип    | Описание                    |
| -------------------- | ------ | --------------------------- |
| notifications        | array  | Массив уведомлений          |
| notifications[].id   | string | ID уведомления (если нужно) |
| notifications[].date | string | Дата получения уведомления  |
| notifications[].text | string | Текст уведомления           |

### QR-код пользователя

GET /api/qr-code/ - получить актуальный QR-код пользователя

```json
{ "result": "12434234234234" }
```

| Свойство | Тип    | Описание                       |
| -------- | ------ | ------------------------------ |
| result   | string | актуальный QR-код пользователя |

### Условия скидки

Тоже не понятно как тут будут расписаны условия. Будут общие на все услуги или на каждую услугу.

На случай если будут заполнять условия где-то через админку (если они будут изменятся). Если статично в приложении, тогда тут бэкенд не нужен

Пока сделал общие.

Примеры запросов:

GET /api/conditions/ - получить условия скидки (общие)

GET /api/conditions/{id_service} - получить условия скидки на определенную услугу по ID (если такой запрос необходим)

```json
    "conditions": [
        "При покупке моторного масла в сети магазинов «ТИКАМИС» замена моторного масла производится по цене 50 рублей независимо от суммы покупки.",
        "Указанная стоимость по замене масла в двигателе действует при покупке не менее 4-х литров моторного масла и при наличии записи о такой покупке в кассовом чеке.",
        "Для получения скидки сканируйте в сервисном центре QR-код кассового чека на товары, приобретаемые в магазинах Тикамис",
        "Работы по обнулению интервала ТО автомобиля включены в стоимость замены масла в двигателе.",
    ],
```

| Свойство     | Тип    | Описание                                                                               |
| ------------ | ------ | -------------------------------------------------------------------------------------- |
| conditions   | array  | Условия скидки                                                                         |
| conditions[] | string | Каждая строка - абзац. Чтобы сделать часть текста жирным, нужно обернуть в тег <b></b> |

### Отзывы

Имеются 3 вида отправки отзыва (графический, текстовый, голосовой)

Отправить отзыв можно только в одном виде

POST /api/reviews/ - отправить отзыв

```json
{
  "smile": "good", // Графический. good - хорошо, bad - плохо, average - средне. Здесь смотри сам. (я не англичанин)
  "textMessage": "Всё отлично!", // Текстовый
  // Voice - здесь будет отправка записанного голосового сообщения в виде файла
  "isAnonymous": true, // Оставить отзыв анонимно
  "city": "moscow", // Город. Название или символический код (Обязательное поле)
  "center": "gagarina15", // Сервисный центр. Название или символический код (Обязательное поле)
  "gosNumber": "A777AA", // Гос. номер авто
  "region": "86" // Регион авто
}
```

Надо будет подумать как быть с голосовым сообщением, возможно придется тут общаться не в JSON, так как в json файл не передашь. Либо другой формат запроса, либо отдельный запрос на заливку файла на сервер, который выдаст путь к файлу.

### Регистрация

Обязательные поля: Номер телефона, госномер, регион, согласие на условия пользовательского соглашения
