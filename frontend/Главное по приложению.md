# Главное по приложению

--

### Уведомления

Пока не особо понятно получение списка уведомлений (не дошел до этого, может там вообще другая структура). Предположительно так:

GET /api/notifications - получить уведомления

```json
    "notifications": [
    {
      "id": "1",
      "date": "12.09.2022",
      "text": "Сегодня вы записаны на сервисное обслуживание в [время записи] в сервисный центр Тикамис по адресу [адрес СЦ]",
    },
    {
      "id": 2,
      "date": "11.09.2022",
      "text": "Завтра вы записаны на сервисное обслуживание в [время записи] в сервисный центр Тикамис по адресу [адрес СЦ]",
    },
    ]
```

| Свойство             | Тип    | Описание                    |
| -------------------- | ------ | --------------------------- |
| notifications        | array  | Массив уведомлений          |
| notifications[].id   | string | ID уведомления (если нужно) |
| notifications[].date | string | Дата получения уведомления  |
| notifications[].text | string | Текст уведомления           |

### QR-коды

GET /api/qrCodes/ - получить список QR-кодов

PUT /api/qrCodes/{number} - использовать QR-код

```json
    "qrCodes": [
        { "number": "12345678", "use": false },
        { "number": "1234567", "use": false },
        { "number": "123456", "use": false },
    ],
```

| Свойство         | Тип     | Описание                                                          |
| ---------------- | ------- | ----------------------------------------------------------------- |
| qrCodes          | array   | Массив QR-кодов                                                   |
| qrCodes[].number | string  | Номер QR-кода. Можно по-другому назвать ключ свойства, как удобно |
| qrCodes[].use    | boolean | Использован / не использован                                      |

### Условия скидки

Тоже не понятно как тут будут расписаны условия. Будут общие на все услуги или на каждую услугу.
На случай если будут заполнять условия где-то через админку. Если они будут изменятся. Если статично в приложении, тогда тут бэкенд не нужен
Пока сделал общие.

Примеры запросов:

GET /api/conditions/ - получить условия скидки (общие)

GET /api/conditions/{id_service} - получить условия скидки на определенную услугу по ID

```json
    "conditions": [
        "Сканируйте QR-код кассового чека на товары, приобретаемые в магазинах Тикамис.",
        "QR-код можно сканировать сейчас, на последнем этапе записи автомобиля в сервисный центр.",
        "QR-код можно сканировать позже, в журнале «Предстоящие записи» раздел «Ремонт»",
        "Список товаров, при покупке которых возникает право на сервисное обслуживание автомобиля со скидкой можно посмотреть нажав на название <b>услуги/работы</b>.",
    ],
```

| Свойство     | Тип    | Описание                                                                               |
| ------------ | ------ | -------------------------------------------------------------------------------------- |
| conditions   | array  | Условия скидки                                                                         |
| conditions[] | string | Каждая строка - абзац. Чтобы сделать часть текста жирным, нужно обернуть в тег <b></b> |

### Отзывы

Имеются 3 вида отправки отзыва (графический, текстовый, голосовой)

Отправить отзыв можно только в одном виде

POST /api/reviews/ - отправить отзыв

```json
{
  "smile": "good", // Графический. good - хорошо, bad - плохо, average - средне. Здесь смотри сам. (я не англичанин)
  "textMessage": "Всё отлично!", // Текстовый
  // Voice - здесь будет отправка записанного голосового сообщения в виде файла
  "isAnonymous": true, // Оставить отзыв анонимно
  "city": "moscow", // Город. Название или символический код (Обязательное поле)
  "center": "gagarina15", // Сервисный центр. Название или символический код (Обязательное поле)
  "gosNumber": "A777AA", // Гос. номер авто
  "region": "86" // Регион авто
}
```

### Регистрация

Обязательные поля: Номер телефона, госномер, регион, согласие на условия пользовательского соглашения
